Based off chapter 11 and 12 of https://github.com/cfenollosa/os-tutorial
